#!/usr/bin/perl
use strict;
use warnings;

sub main(@){
  my $addFontScale = 1;
  for my $arg(@_){
    if($arg =~ /^(--font-scale)/){
      $addFontScale = 0;
      last;
    }
  }

  my $res = `res -w`;
  chomp $res;

  my $fontScale;
  my $platform;
  if($res >= 1920){
    $fontScale = 1.0;
  }elsif($res >= 1280){
    $fontScale = 1.5;
  }else{
    $fontScale = 2.0;
  }

  my @cmd;
  push @cmd, "email-gui.py";
  push @cmd, "--font-scale=$fontScale" if $addFontScale;
  @cmd = (@cmd, @_);
  exec @cmd;
}

&main(@ARGV);
