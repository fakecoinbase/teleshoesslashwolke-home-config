#!/usr/bin/perl
use strict;
use warnings;

my $usage = "Usage:
  $0 -h|--help
    print this message

  $0 [FILE FILE ..]
    print file modification time in seconds since epoch UTC, one per line
    if more than one file is specified, prefix each line with 'FILE: '
";

sub main(@){
  while(@_ > 0 and $_[0] =~ /^-/ and not -e $_[0]){
    my $opt = shift;
    if($opt =~ /^(-h|--help)$/){
    }else{
      die $usage;
    }
  }

  for my $file(@_){
    print STDERR "$file does not exist\n" if not -e $file;
    my @stat = stat $file;
    my $mtime = $stat[9];
    if(@_ > 1){
      print "$file: $mtime\n";
    }else{
      print "$mtime\n";
    }
  }
}

&main(@ARGV);
